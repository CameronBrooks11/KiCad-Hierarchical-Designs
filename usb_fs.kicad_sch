(kicad_sch (version 20211123) (generator eeschema)

  (uuid 1b943222-4d42-4c76-8557-a384b93583c4)

  (paper "A4")

  (lib_symbols
    (symbol "Connector:USB_A" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "J" (id 0) (at -5.08 11.43 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "USB_A" (id 1) (at -5.08 8.89 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 3.81 -1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" " ~" (id 3) (at 3.81 -1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "connector USB" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "USB Type A connector" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "USB*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "USB_A_0_1"
        (rectangle (start -5.08 -7.62) (end 5.08 7.62)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
        (circle (center -3.81 2.159) (radius 0.635)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -1.524 4.826) (end -4.318 5.334)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -1.27 4.572) (end -4.572 5.842)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (circle (center -0.635 3.429) (radius 0.381)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start -0.127 -7.62) (end 0.127 -6.858)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -3.175 2.159)
            (xy -2.54 2.159)
            (xy -1.27 3.429)
            (xy -0.635 3.429)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 2.159)
            (xy -1.905 2.159)
            (xy -1.27 0.889)
            (xy 0 0.889)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.635 2.794)
            (xy 0.635 1.524)
            (xy 1.905 2.159)
            (xy 0.635 2.794)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start 0.254 1.27) (end -0.508 0.508)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (rectangle (start 5.08 -2.667) (end 4.318 -2.413)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (rectangle (start 5.08 -0.127) (end 4.318 0.127)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (rectangle (start 5.08 4.953) (end 4.318 5.207)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "USB_A_1_1"
        (polyline
          (pts
            (xy -1.905 2.159)
            (xy 0.635 2.159)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (pin power_in line (at 7.62 5.08 180) (length 2.54)
          (name "VBUS" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 7.62 -2.54 180) (length 2.54)
          (name "D-" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin bidirectional line (at 7.62 0 180) (length 2.54)
          (name "D+" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -10.16 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -2.54 -10.16 90) (length 2.54)
          (name "Shield" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (id 0) (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (id 1) (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "william_usb:STMPS21x1STR" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at 7.62 6.35 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "STMPS21x1STR" (id 1) (at -2.54 6.35 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 7.62 6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 7.62 6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "*SOT-23-5*" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "STMPS21x1STR_0_1"
        (rectangle (start 8.89 -5.08) (end -8.89 5.08)
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type background))
        )
      )
      (symbol "STMPS21x1STR_1_1"
        (pin power_out line (at 11.43 2.54 180) (length 2.54)
          (name "OUT" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -7.62 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 11.43 -1.27 180) (length 2.54)
          (name "FAULT" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -11.43 -1.27 0) (length 2.54)
          (name "~{EN}" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -11.43 2.54 0) (length 2.54)
          (name "IN" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 144.78 115.57) (diameter 0) (color 0 0 0 0)
    (uuid 6a4607fd-ed00-4323-bd13-ad2e7be1f39a)
  )
  (junction (at 177.8 115.57) (diameter 0) (color 0 0 0 0)
    (uuid 8148e902-decd-4043-8a50-29703f248566)
  )
  (junction (at 157.48 100.33) (diameter 0) (color 0 0 0 0)
    (uuid b35b2b8a-7dd8-4712-99f8-e08ef4aa29cc)
  )
  (junction (at 111.76 115.57) (diameter 0) (color 0 0 0 0)
    (uuid e7608658-7c6b-4e9e-9784-f6e67d95e23d)
  )
  (junction (at 144.78 100.33) (diameter 0) (color 0 0 0 0)
    (uuid fd3464b7-ec42-4972-b62c-0d1da1b13088)
  )

  (no_connect (at 218.44 100.33) (uuid ff7df86a-1eb2-4422-a8e1-725ae877110f))

  (wire (pts (xy 144.78 100.33) (xy 157.48 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 08e4ce7b-c22d-4b0d-a4ad-cf628ba8da7c)
  )
  (wire (pts (xy 180.34 115.57) (xy 177.8 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 1b8b7c65-bbe1-4a2b-8494-4144726c2b02)
  )
  (wire (pts (xy 157.48 93.98) (xy 157.48 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 21bee805-8cf4-408f-9452-80a70115716f)
  )
  (wire (pts (xy 97.79 104.14) (xy 100.33 104.14))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3f9da29b-b6ab-411c-82f6-9802d6e0f174)
  )
  (wire (pts (xy 218.44 100.33) (xy 222.25 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 46f81c99-07b4-4759-b001-6109d60b0161)
  )
  (wire (pts (xy 125.73 104.14) (xy 123.19 104.14))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4ac938c8-39a9-4f35-8e32-db0e5aa77bf4)
  )
  (wire (pts (xy 214.63 92.71) (xy 222.25 92.71))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 51e08d8d-6fd0-4647-a472-44199f1d3184)
  )
  (wire (pts (xy 111.76 115.57) (xy 144.78 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 523c0ef4-0ae1-4991-9ce2-2c4e579af7c5)
  )
  (wire (pts (xy 218.44 102.87) (xy 222.25 102.87))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 58c2c078-397f-44d2-aaac-1839f532c070)
  )
  (wire (pts (xy 158.75 105.41) (xy 170.18 105.41))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 617229c6-b5a9-4002-936a-2b64a406848a)
  )
  (wire (pts (xy 144.78 111.76) (xy 144.78 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 644e024c-7a2c-4c23-bf96-a6b52ece8d60)
  )
  (wire (pts (xy 152.4 93.98) (xy 157.48 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 969f42e4-579b-4ea2-b7ab-fe3eeecb0109)
  )
  (wire (pts (xy 111.76 110.49) (xy 111.76 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a3868bc5-b958-482d-90c4-6cd8d852ca07)
  )
  (wire (pts (xy 81.28 100.33) (xy 100.33 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b6764a9c-e491-4545-9855-d42ffdfdceb0)
  )
  (wire (pts (xy 218.44 97.79) (xy 222.25 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b774865e-03e1-4200-b652-1643de9ed121)
  )
  (wire (pts (xy 157.48 100.33) (xy 170.18 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ba893dbe-51f6-4347-b823-9ce4907c0f34)
  )
  (wire (pts (xy 170.18 107.95) (xy 158.75 107.95))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c5524d01-2c79-4c08-93cf-7a43fb78b923)
  )
  (wire (pts (xy 144.78 104.14) (xy 144.78 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d127714a-3743-42dd-9674-9c9895f327bb)
  )
  (wire (pts (xy 81.28 115.57) (xy 111.76 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid eb204822-c9f6-486e-932d-afb437827183)
  )
  (wire (pts (xy 123.19 100.33) (xy 144.78 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ee26a569-7017-4b58-859c-78cb1e7ad0e0)
  )
  (wire (pts (xy 144.78 115.57) (xy 177.8 115.57))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f258d796-4dd1-4795-aabb-234e978b3f0b)
  )
  (wire (pts (xy 218.44 95.25) (xy 222.25 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f554aa1a-6fbb-42f0-afce-e463dc30ddb2)
  )

  (text "21x1\nFor x = 4,6 EN is active LOW\nFor x = 5,7 EN is active HIGH"
    (at 102.87 87.63 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 42f6e806-9978-4d6b-852a-137a1938433e)
  )

  (label "VBUS" (at 151.13 100.33 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 52ef09ca-5d24-4726-963a-6891ac72cb2e)
  )
  (label "VBUS" (at 214.63 92.71 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 608ab2db-91de-4f43-be3b-5695f40a085d)
  )

  (hierarchical_label "5V_PROT" (shape output) (at 152.4 93.98 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 1a24226f-2de3-4274-b266-eab53bcb0e0b)
  )
  (hierarchical_label "D+" (shape input) (at 218.44 95.25 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 37dd1b2b-d280-4ff9-ac12-4c6e9460c6ca)
  )
  (hierarchical_label "5V" (shape input) (at 81.28 100.33 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 40835390-d4b6-4367-8931-1df27d2322c6)
  )
  (hierarchical_label "GND" (shape input) (at 81.28 115.57 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 424e19df-5f3f-423b-955e-123d4a4bc414)
  )
  (hierarchical_label "GND" (shape input) (at 218.44 102.87 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 5a84e95d-cf1b-41ed-8c97-0e3b5758e397)
  )
  (hierarchical_label "D+" (shape input) (at 158.75 105.41 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 5fddf7cf-50e4-456b-8ff0-35de830e6e50)
  )
  (hierarchical_label "FAULT" (shape input) (at 125.73 104.14 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 97703c21-5111-490e-aa10-505296e62694)
  )
  (hierarchical_label "D-" (shape input) (at 218.44 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 9a799b33-ff92-4faa-9735-e7a1e729ecf8)
  )
  (hierarchical_label "D-" (shape input) (at 158.75 107.95 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid a4ea9f90-9b79-4b9e-b4b8-f61cd257e39b)
  )
  (hierarchical_label "VBUS_DRIVE" (shape input) (at 97.79 104.14 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid e647e9e5-d442-4689-8736-a75567be5280)
  )

  (symbol (lib_id "Connector:USB_A") (at 177.8 105.41 0) (mirror y) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-00005c6bfe78)
    (property "Reference" "J?" (id 0) (at 183.642 105.6386 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Value" "" (id 1) (at 183.642 107.95 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Footprint" "" (id 2) (at 173.99 106.68 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" " ~" (id 3) (at 173.99 106.68 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 28349f80-39b9-4a4a-8330-f92911d33c0a))
    (pin "2" (uuid a1f70a8f-bec2-40a6-98be-b8614a9db23e))
    (pin "3" (uuid 420b2a2b-8b4a-46c9-b22f-8cd5a0ca4a97))
    (pin "4" (uuid 281dd207-7a6f-4dcb-bf95-2653c4d007fa))
    (pin "5" (uuid 7151b7f1-ac3f-45cd-abf6-2323925a821a))
  )

  (symbol (lib_id "Device:C") (at 144.78 107.95 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-00005c6bfe88)
    (property "Reference" "C?" (id 0) (at 147.701 106.7816 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "" (id 1) (at 147.701 109.093 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (id 2) (at 145.7452 111.76 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 144.78 107.95 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 5e957034-0626-454c-b606-7af73594b22b))
    (pin "2" (uuid 9547747c-189d-431a-9c74-fe777baf8773))
  )

  (symbol (lib_id "william_usb:STMPS21x1STR") (at 111.76 102.87 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid 00000000-0000-0000-0000-00005c799c60)
    (property "Reference" "U12" (id 0) (at 111.76 93.599 0))
    (property "Value" "STMPS21x1STR" (id 1) (at 111.76 95.9104 0))
    (property "Footprint" "Package_TO_SOT_SMD:TSOT-23-5" (id 2) (at 119.38 96.52 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 119.38 96.52 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid bd94ff49-678d-4689-a241-940c62124dc3))
    (pin "2" (uuid 2cfe4dfa-6538-45f2-b7e1-a90f8af2610b))
    (pin "3" (uuid 4f45e9e6-f670-4ed5-951f-a50724d3e0fb))
    (pin "4" (uuid 7b71069e-51ef-4ae2-a230-854b018b0758))
    (pin "5" (uuid ec1de931-08df-49cd-ba16-e5bd32a2c067))
  )

  (sheet (at 222.25 90.17) (size 26.67 16.51) (fields_autoplaced)
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (fill (color 0 0 0 0.0000))
    (uuid 00000000-0000-0000-0000-00005c7a05f9)
    (property "Sheet name" "USB ESD protection" (id 0) (at 222.25 89.4584 0)
      (effects (font (size 1.27 1.27)) (justify left bottom))
    )
    (property "Sheet file" "../subs/usb_otg_tvs.kicad_sch" (id 1) (at 222.25 107.2646 0)
      (effects (font (size 1.27 1.27)) (justify left top))
    )
    (pin "D+" input (at 222.25 95.25 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid e06b495e-c674-4225-8420-534e6b1ae32e)
    )
    (pin "D-" input (at 222.25 97.79 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid c50c7dea-028c-4f69-a089-ee01febcbde5)
    )
    (pin "GND" input (at 222.25 102.87 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 702c2c6e-5518-4407-ac5d-7314193b77bd)
    )
    (pin "VBUS" input (at 222.25 92.71 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid 710aef29-8d68-4690-96c8-b5041209628f)
    )
    (pin "ID" input (at 222.25 100.33 180)
      (effects (font (size 1.27 1.27)) (justify left))
      (uuid d483dc54-8dd0-41eb-aebc-3bad8c036e48)
    )
  )

  (sheet_instances
    (path "/" (page "1"))
    (path "/00000000-0000-0000-0000-00005c7a05f9" (page "2"))
  )

  (symbol_instances
    (path "/00000000-0000-0000-0000-00005c6bfe88"
      (reference "C?") (unit 1) (value "10U") (footprint "Capacitor_SMD:C_0805_2012Metric")
    )
    (path "/00000000-0000-0000-0000-00005c6bfe78"
      (reference "J?") (unit 1) (value "USB_MSD") (footprint "william_usb:UJ2-AV-1-TH")
    )
    (path "/00000000-0000-0000-0000-00005c799c60"
      (reference "U12") (unit 1) (value "STMPS21x1STR") (footprint "Package_TO_SOT_SMD:TSOT-23-5")
    )
    (path "/00000000-0000-0000-0000-00005c7a05f9/04d0bffe-2873-446c-977d-ef9b43686f47"
      (reference "U?") (unit 1) (value "TPD3E001DRLR") (footprint "Package_TO_SOT_SMD:SOT-553")
    )
  )
)
